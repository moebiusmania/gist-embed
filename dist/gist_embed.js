!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const o={timeoutId:null,head:document.getElementsByTagName("head")[0],options:{timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null}},r=()=>`jsonp_${Date.now()}_${(()=>Math.ceil(1e5*Math.random()))()}`,i=t=>t?clearTimeout(t):null,s=(t,e)=>{try{delete window[t]}catch(e){window[t]=void 0}(t=>{const e=document.getElementById(t);e&&o.head.removeChild(e)})(e)};var u=(t,e={})=>{const n=e.timeout||o.options.timeout,u=e.jsonpCallback||o.options.jsonpCallback;return new Promise((c,l)=>{const a=e.jsonpCallbackFunction||r(),d=`${u}_${a}`;window[a]=(t=>{c({ok:!0,json:()=>Promise.resolve(t)}),i(o.timeoutId),s(a,d)});const h=-1===t.indexOf("?")?"?":"&",m=t+h,p=document.createElement("script");p.setAttribute("src",`${m}${u}=${a}`),e.charset&&p.setAttribute("charset",e.charset),p.id=d,o.head.appendChild(p),o.timeoutId=setTimeout(()=>{l(new Error(`JSONP request to ${t} timed out`)),s(a,d),window[a]=(()=>s(a,d))},n),p.addEventListener("error",()=>{l(new Error(`JSONP request to ${t} failed`)),s(a,d),i(o.timeoutId)})})};var c=(t,e)=>{return u(`https://gist.github.com/${t}/${e}.json`).then(t=>t.json()).then(t=>((t,e)=>Object.assign({},t,e))(t,{loading:!1}))};n.d(e,"default",function(){return l});class l extends HTMLElement{render(t){const e=this.getAttribute("height")||50;this.innerHTML=`\n      <link rel="stylesheet" href="${t.stylesheet}">\n      <div style="min-height: ${e}px">${t.div}</div>\n    `}init(){const t=this.getAttribute("user")||"",e=this.getAttribute("uuid")||"";c(t,e).then(t=>this.render(t))}connectedCallback(){this.init()}}customElements.define("gist-embed",l)}]);
//# sourceMappingURL=gist_embed.js.map